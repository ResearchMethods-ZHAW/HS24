{
  "hash": "11bbcd38aab16fb757c460a77c8f10d9",
  "result": {
    "engine": "knitr",
    "markdown": "---\nlesson: Statistik 3\nknitr:\n  opts_chunk: \n    collapse: false\nmusterloesung: true\n---\n\n\n# Statistik 3: Übung\n\n## Lineare und polynomische Regression\n\n*Aufgabenbeschreibung*\n\nIn R gibt es zahlreiche eingebaute Datensätze. Diese sind direkt in R verfügbar und können ohne zusätzliche Downloads oder Installationen genutzt werden. In dieser Übung verwenden wir den Datensatz `LifeCycleSavings`.\nDu kannst den Datensatz z.B. mit folgendem Befehl als Objekt laden:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nDataUebung3 <- LifeCycleSavings\n```\n:::\n\n\n\n\nDer Datensatz enthält Informationen über die Sparquoten in 50 Ländern:\n\n-   `sr` Sparquote (*Savings Ratio*; Anteil des Einkommens der gespart wird in Prozent)\n\n-   `pop15` Prozentsatz der Bevölkerung unter 15 Jahren\n\n-   `pop75` Prozentsatz der Bevölkerung über 75 Jahren\n\n-   `dpi` Pro-Kopf-Einkommen\n\nDu sollst nun untersuchen, ob und wie Sparquote von den anderen drei Variablen abhängt. Teste für jede erklärende Variable einzeln auf lineare und quadratische Zusammenhänge. Stelle die Ergebnisse grafisch dar und verfasse einen ausformulierten Methoden- und Ergebnisteil.\n\n:::: {.content-hidden unless-meta=\"musterloesung\"}\n::: callout-note\n## Lösung Übung 3\n\n[Demoscript herunterladen (.R)](../purl/Statistik3_Uebung.R){.dld}\n\n[Demoscript herunterladen (.qmd)](../purl/Statistik3_Uebung.qmd){.dld}\n\n### R-Session vorbereiten\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(patchwork)\n```\n:::\n\n\n# Daten anschauen\n\n\n::: {.cell}\n\n```{.r .cell-code}\np1 <- ggplot(LifeCycleSavings, aes(x = pop15, y = sr)) +\n  geom_point()\np2 <- ggplot(LifeCycleSavings, aes(x = pop75, y = sr)) +\n  geom_point()\np3 <- ggplot(LifeCycleSavings, aes(x = dpi, y = sr)) +\n  geom_point()\n\np1+p2+p3\n```\n\n::: {.cell-output-display}\n![](Statistik3_Uebung_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n-\\> Zusammenhänge sind zu erahnen, aber die Streuung ist gross.\n\n### Modelle erstellen\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_pop15 <- lm(sr ~ pop15 , data = LifeCycleSavings ) # Einfaches lineares Modell\nlm_q_pop15 <- lm(sr ~ pop15 + I(pop15^2),  data = LifeCycleSavings) # Modell mit quadratischem Term\n\n\nlm_pop75 <- lm(sr ~ pop75, data = LifeCycleSavings ) # Einfaches lineares Modell\nlm_q_pop75 <- lm(sr ~ pop75 + I(pop75^2),  data = LifeCycleSavings) # Modell mit quadratischem Term\n\nlm_dpi <- lm(sr ~ dpi , data = LifeCycleSavings ) # Einfaches lineares Modell\nlm_q_dpi <- lm(sr ~ dpi + I(dpi^2),  data = LifeCycleSavings) # Modell mit quadratischem Term\n```\n:::\n\n\n### Modell-Outputs anschauen\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_pop15 |> summary()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = sr ~ pop15, data = LifeCycleSavings)\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-8.637 -2.374  0.349  2.022 11.155 \n\nCoefficients:\n            Estimate Std. Error t value Pr(>|t|)    \n(Intercept) 17.49660    2.27972   7.675 6.85e-10 ***\npop15       -0.22302    0.06291  -3.545 0.000887 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 4.03 on 48 degrees of freedom\nMultiple R-squared:  0.2075,\tAdjusted R-squared:  0.191 \nF-statistic: 12.57 on 1 and 48 DF,  p-value: 0.0008866\n```\n\n\n:::\n\n```{.r .cell-code}\nlm_q_pop15 |> summary()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = sr ~ pop15 + I(pop15^2), data = LifeCycleSavings)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-8.2918 -2.6062  0.2732  1.8186 11.0642 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)\n(Intercept) 22.399363  13.358692   1.677    0.100\npop15       -0.522473   0.806247  -0.648    0.520\nI(pop15^2)   0.004268   0.011455   0.373    0.711\n\nResidual standard error: 4.067 on 47 degrees of freedom\nMultiple R-squared:  0.2098,\tAdjusted R-squared:  0.1762 \nF-statistic: 6.241 on 2 and 47 DF,  p-value: 0.003946\n```\n\n\n:::\n:::\n\n\n-\\> Ein linearer negativer Zusammenhang ist vorhanden.\n\n-\\> Kein quadratischer Zusammenhang.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_pop75 |> summary() \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = sr ~ pop75, data = LifeCycleSavings)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-9.2657 -3.2295  0.0543  2.3336 11.8498 \n\nCoefficients:\n            Estimate Std. Error t value Pr(>|t|)    \n(Intercept)   7.1517     1.2475   5.733  6.4e-07 ***\npop75         1.0987     0.4753   2.312   0.0251 *  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 4.294 on 48 degrees of freedom\nMultiple R-squared:  0.1002,\tAdjusted R-squared:  0.08144 \nF-statistic: 5.344 on 1 and 48 DF,  p-value: 0.02513\n```\n\n\n:::\n\n```{.r .cell-code}\nlm_q_pop75 |> summary() \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = sr ~ pop75 + I(pop75^2), data = LifeCycleSavings)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-9.6125 -3.2081  0.1644  2.2641 11.5023 \n\nCoefficients:\n            Estimate Std. Error t value Pr(>|t|)  \n(Intercept)   5.9658     2.4752   2.410   0.0199 *\npop75         2.3997     2.3879   1.005   0.3201  \nI(pop75^2)   -0.2608     0.4690  -0.556   0.5808  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 4.325 on 47 degrees of freedom\nMultiple R-squared:  0.1061,\tAdjusted R-squared:  0.06803 \nF-statistic: 2.788 on 2 and 47 DF,  p-value: 0.07172\n```\n\n\n:::\n:::\n\n\n-\\> Ein linearer postiviver Zusammenhang ist vorhanden.\n\n-\\> Kein quadratischer Zusammenhang.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_dpi |> summary()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = sr ~ dpi, data = LifeCycleSavings)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-9.1915 -3.6215  0.4418  2.8304 11.2790 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept) 8.5682306  0.9414690   9.101 5.04e-12 ***\ndpi         0.0009964  0.0006366   1.565    0.124    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 4.416 on 48 degrees of freedom\nMultiple R-squared:  0.04856,\tAdjusted R-squared:  0.02874 \nF-statistic:  2.45 on 1 and 48 DF,  p-value: 0.1241\n```\n\n\n:::\n\n```{.r .cell-code}\nlm_q_dpi |> summary() \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = sr ~ dpi + I(dpi^2), data = LifeCycleSavings)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-10.663  -2.488   0.032   2.535  11.071 \n\nCoefficients:\n              Estimate Std. Error t value Pr(>|t|)    \n(Intercept)  6.786e+00  1.207e+00   5.623 9.98e-07 ***\ndpi          5.263e-03  2.008e-03   2.620   0.0118 *  \nI(dpi^2)    -1.344e-06  6.028e-07  -2.230   0.0305 *  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 4.243 on 47 degrees of freedom\nMultiple R-squared:  0.1396,\tAdjusted R-squared:  0.103 \nF-statistic: 3.813 on 2 and 47 DF,  p-value: 0.02919\n```\n\n\n:::\n:::\n\n\n-\\> Kein einfacher linearer Zusammenhang.\n\n-\\> Ein quadratischer Zusammenhang ist vorhanden.\n\n## Modeldiagnostik\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Residualplots\npar(mfrow = c(2, 2))\nplot(lm_pop15)\n```\n\n::: {.cell-output-display}\n![](Statistik3_Uebung_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n\n```{.r .cell-code}\nplot(lm_q_pop15)\n```\n\n::: {.cell-output-display}\n![](Statistik3_Uebung_files/figure-html/unnamed-chunk-8-2.png){width=672}\n:::\n\n```{.r .cell-code}\nplot(lm_q_dpi)\n```\n\n::: {.cell-output-display}\n![](Statistik3_Uebung_files/figure-html/unnamed-chunk-8-3.png){width=672}\n:::\n:::\n\n\n\n## Darstellung der Ergebnisse\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Erstellen der Plots\np1 <- ggplot(LifeCycleSavings, aes(x = pop15, y = sr)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", formula = y ~ x, se = FALSE) +\n  labs(x = \"% der Bevölkerung < 15 Jahre\",\n       y = \"Sparquote\") +\n  theme_classic()\n\np2 <- ggplot(LifeCycleSavings, aes(x = pop75, y = sr)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", formula = y ~ x, se = FALSE) +\n  labs(x = \"% der Bevölkerung > 75 Jahren\",\n       y = \"Sparquote\") +\n  theme_classic()\n\np3 <- ggplot(LifeCycleSavings, aes(x = dpi, y = sr)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", formula = y ~ x + I(x^2), se = FALSE) +\n  labs(x = \"Pro-Kopf-Einkommen\",\n       y = \"Sparquote\") +\n  theme_classic()\n\np1 + p2 + p3\n```\n\n::: {.cell-output-display}\n![](Statistik3_Uebung_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n:::\n::::\n",
    "supporting": [
      "Statistik3_Uebung_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}